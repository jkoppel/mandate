This gallery contains example CFGs generated by Mandate. All of these CFGs were generated from the source code plus the operational semantics of the corresponding language, with only a small amount of effort needed to define abstractions to determine what type of CFG is generated.

This gallery contains examples in Imp, Tiger, and BaliScript. For each example, we have included the source code, the .dot files generated by Mandate, and the .svg images created by graphviz. For each CFG, we generated two visualizations. In the "long" form, each graph node is labeled with the corresponding abstract state. Because each abstract state contains the full stack at that point in the program, these graphs get unreadably large for all but the smallest programs. We hence also generated a "short" form, where each graph node is labeled with only the term portion of the corresponding abstract state.

IMP Examples

We wrote the initial example from the paper in Imp, and generated CFGs using the value irrelevance, expression irrelevance, and boolean-tracking abstractions.

There is no Imp parser. Instead, all Imp programs are defined by directly writing the abstract-syntax in Haskell. Here is the definition of this example program:

termBalanceParens :: Term ImpLang
termBalanceParens =
    Seq ("prec" := ReadInt)
    $ Seq ("left" := ReadInt)
    $ Seq ("right" := ReadInt)
    $ Seq ("b" := (LT (varExp "prec") (intConst 5)))
    $ Seq (If (varExp "b")
             (Write (strConst "("))
             Skip)
    $ Seq (WriteInt (varExp "left"))
    $ Seq (Write (strConst "+"))
    $ Seq (WriteInt (varExp "right"))
    $ (If (varExp "b")
          (Write (strConst ")"))
          Skip)


Tiger examples

All of these examples are taken from the Tiger testcases ( https://www.cs.princeton.edu/~appel/modern/testcases/ ).

These graphs are all generated with the value-irrelevance abstraction. Because Tiger is a functional language, everything is an expression, and hence expression-irrelevance is not very interesting. However...

BaliScript examples

...the expression-irrelevance abstraction works perfectly fine in BaliScript, and produces some nice graphs. These examples were taken from the test suite of the compilers course for which BaliScript was created.
